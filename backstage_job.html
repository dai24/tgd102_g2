<!DOCTYPE html>
<html lang="en">
<head>
    @@include('./layout/head.html',{
        "title" : "後台實習職缺"
        })        
    <script src="https://unpkg.com/vue@2"></script>
</head>
<body>
<main  class="backstage_job">
    @@include('./layout/backstage_nav.html')
    <div  class="wrapper">
        <h1 class="title">實習職缺</h1>
        <div class="wratable">
            <div class="block">
                <div class="category">
                    <h3>職缺種類：</h3>
                    <div class="consultantIndustrySearch">
                        <button class="btna21">全部<i class="fa-solid fa-chevron-down"></i></button>
                        <ul class="consultantIndustry searchItem" style="display:none;">
                            <li><button class="btna22">軟體</button></li>
                            <li><button class="btna22">行銷</button></li>
                            <li><button class="btna22">金融</button></li>
                        </ul>
                    </div>
                </div>

                <div class="inputsearch">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="Text" class="inputText" placeholder="搜尋職缺名稱或編號" name="search">
                </div>                
            </div>

            <div id="backstage_job_app"></div>
            <table id="table">     
                <thead>
                    <tr>
                        <th class="id"><h3>職缺編號</h3></th>
                        <th class="companyname"><h3 >公司名稱</h3></th>
                        <th class="name"><h3 >職缺名稱</h3></th>
                        <th class="workplace"><h3>工作地點</h3></th>
                        <th class="browsed"><h3>被瀏覽數</h3></th>
                        <th class="apply"><h3>應徵次數</h3></th>
                        <th class="interview"><h3>面試次數</h3></th>
                        <th class="detail"><h3></h3></th>
                        <th class="create-date"><h3>建立日期</h3></th>
                        <th class="state"><h3>職缺狀態</h3></th>
                        <th class="ban"><h3 >停權</h3></th>
                    </tr> 
                </thead>
                 
                <tbody>
                    <tr class="item">
                        <td class="id"><h3>J111001</h3></td>
                        <td class="companyname" ><h3 >小野水產股份有限公司</h3></td>
                        <td class="name"><h3 >行銷實習生</h3></td>
                        <td class="workplace"><h3>台北市</h3></td>
                        <td class="browsed"><h3>6670</h3></td>
                        <td class="apply"><h3>130</h3></td>
                        <td class="interview"><h3>43</h3></td>
                        <td class="detail"><h3>
                            <button class="btna3"><h4><a href="./backstage_company_job_detail.html">詳細資料</a></h4></button>
                        </h3></td>
                        <td class="create-date"><h3>111/09/16</h3></td>
                        <td class="state"><i class="fa-solid fa-lightbulb"></i></td>
                        <td class="ban"><h3><i class="fa-solid fa-ban"></i></h3></td>
                    </tr>
                    
                </tbody>
            </table>
        </div>      
        
        <div class="pagination-div">
            <ul class="pagination-ul">
              <li><a href="#"><i class="fa-solid fa-chevron-left"></i></a></li>
              <li><a href="#" class="pageContent">1</a></li>
              <li><a href="#" class="pageContent">2</a></li>
              <li><a href="#" class="pageContent">3</a></li>
              <li><a href="#" class="pageContent">4</a></li>
              <li><a href="#" class="pageContent">5</a></li>
              <li><a href="#"><i class="fa-solid fa-chevron-right"></i></a></li>
            </ul>
        </div>
    </div>   
    
</main>

<script>
    //打開/關閉子選單
    let consultantIndustrySearch = document.querySelector(".consultantIndustrySearch");  
    let categoryCurrent = consultantIndustrySearch.firstElementChild;
    let consultantIndustry = document.querySelector(".searchItem"); 
    let category = consultantIndustry.querySelectorAll("button"); //找到所有子選單選項
    // console.log(category);
    console.log(categoryCurrent.innerText);
    let currentCategory = consultantIndustrySearch.firstElementChild;
    consultantIndustrySearch.addEventListener("click", () => {
        consultantIndustry.classList.toggle("-on");
        if(consultantIndustry.classList.contains("-on")){
            consultantIndustry.style.display = "block";
        }else{
            consultantIndustry.style.display = "none";
        }

        for(let i = 0; i <category.length; i++ ){
            category[i].addEventListener("click", e => {
                categoryCurrent.innerText = e.target.innerHTML;
                categoryCurrent.insertAdjacentHTML("beforeend", `
                    <i class="fa-solid fa-chevron-down"></i>
                `)
            })
        }
    })
</script>
<script src="./js/backstage_job.js"></script>
</body>
</html>